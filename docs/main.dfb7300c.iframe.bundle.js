(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{119:function(module,exports,__webpack_require__){var api=__webpack_require__(877),content=__webpack_require__(878);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},481:function(module,exports,__webpack_require__){__webpack_require__(482),__webpack_require__(667),__webpack_require__(668),__webpack_require__(881),__webpack_require__(882),__webpack_require__(886),__webpack_require__(887),__webpack_require__(885),__webpack_require__(883),__webpack_require__(888),module.exports=__webpack_require__(875)},569:function(module,exports){},668:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(342)},875:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(342).configure)([__webpack_require__(876)],module,!1)}).call(this,__webpack_require__(191)(module))},876:function(module,exports,__webpack_require__){var map={"./component/ActivityCalendar.stories.tsx":884};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=876},878:function(module,exports,__webpack_require__){(exports=__webpack_require__(879)(!1)).push([module.i,"._1s6psVuumrmRpezKmQYsHc {\n  max-width: 100%;\n  height: auto;\n  overflow: visible;\n}\n\n._1s6psVuumrmRpezKmQYsHc text {\n  fill: currentColor;\n}\n\n._1oBAVSOzCDZ2pqE8IGQavt {\n  outline: 1px solid rgba(0, 0, 0, 0.08);\n  outline-offset: -1px;\n  shape-rendering: geometricPrecision;\n}\n\n._56qQvN9ctyUxQiv6RDXY9 {\n  display: flex;\n}\n\n@keyframes _1DJJ8juCNZj1tf4neDcBjw {\n  from {\n    transform: translateX(-100%);\n  }\n  to {\n    transform: translateX(100%);\n  }\n}\n",""]),exports.locals={calendar:"_1s6psVuumrmRpezKmQYsHc",block:"_1oBAVSOzCDZ2pqE8IGQavt",footer:"_56qQvN9ctyUxQiv6RDXY9",loadingAnimation:"_1DJJ8juCNZj1tf4neDcBjw"},module.exports=exports},884:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"CustomColor",(function(){return CustomColor})),__webpack_require__.d(__webpack_exports__,"WithMondayAsWeekStart",(function(){return WithMondayAsWeekStart})),__webpack_require__.d(__webpack_exports__,"WithTooltips",(function(){return WithTooltips})),__webpack_require__.d(__webpack_exports__,"WithoutLabels",(function(){return WithoutLabels})),__webpack_require__.d(__webpack_exports__,"WithDayLabels",(function(){return WithDayLabels}));__webpack_require__(0);var index_es=__webpack_require__(459),eachDayOfInterval=__webpack_require__(898),formatISO=__webpack_require__(899),getYear=__webpack_require__(897),parseISO=__webpack_require__(895),format=__webpack_require__(900),component_styles=__webpack_require__(119),styles_default=__webpack_require__.n(component_styles),DEFAULT_THEME={level4:"#216e39",level3:"#30a14e",level2:"#40c463",level1:"#9be9a8",level0:"#ebedf0"},NAMESPACE="react-activity-calendar",tinycolor=__webpack_require__(289),tinycolor_default=__webpack_require__.n(tinycolor),getDay=__webpack_require__(460),subWeeks=__webpack_require__(902),nextDay=__webpack_require__(896),differenceInCalendarDays=__webpack_require__(903);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getMonthLabels(weeks){return weeks.reduce((function(labels,week,index){var firstWeekDay=week.find((function(day){return void 0!==day}));if(!firstWeekDay)throw new Error(`Unexpected error: Week is empty: [${week}]`);var month=Object(format.a)(Object(parseISO.a)(firstWeekDay.date),"MMM"),prev=labels[labels.length-1];return 0===index||prev.text!==month?[].concat(_toConsumableArray(labels),[{x:index,y:0,text:month}]):labels}),[]).filter((function(label,index,labels){return index>0||labels[1].x-label.x>2}))}function getClassName(name,styles){return styles?`${NAMESPACE}__${name} ${styles}`:`${NAMESPACE}__${name}`}var jsx_runtime=__webpack_require__(26);var Skeleton=function(props){return Object(jsx_runtime.jsx)("div",{style:(_ref=props,{position:"relative",overflow:"hidden",width:_ref.width+"px",height:_ref.height+"px",backgroundColor:DEFAULT_THEME.level0}),children:Object(jsx_runtime.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",transform:"translateX(-50%)",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent)",animation:styles_default.a.loadingAnimation+" 1.5s infinite ease-in-out"},className:styles_default.a.loadingAnimation})});var _ref};Skeleton.displayName="Skeleton",Skeleton.__docgenInfo={description:"",methods:[],displayName:"Skeleton"};var component_Skeleton=Skeleton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/Skeleton.tsx"]={name:"Skeleton",docgenInfo:Skeleton.__docgenInfo,path:"src/component/Skeleton.tsx"});var ActivityCalendar=function(_ref){var _data$,data=_ref.data,_ref$blockMargin=_ref.blockMargin,blockMargin=void 0===_ref$blockMargin?4:_ref$blockMargin,_ref$blockRadius=_ref.blockRadius,blockRadius=void 0===_ref$blockRadius?2:_ref$blockRadius,_ref$blockSize=_ref.blockSize,blockSize=void 0===_ref$blockSize?12:_ref$blockSize,children=_ref.children,_ref$color=_ref.color,color=void 0===_ref$color?void 0:_ref$color,_ref$dateFormat=_ref.dateFormat,dateFormat=void 0===_ref$dateFormat?"MMM do, yyyy":_ref$dateFormat,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?14:_ref$fontSize,_ref$hideColorLegend=_ref.hideColorLegend,hideColorLegend=void 0!==_ref$hideColorLegend&&_ref$hideColorLegend,_ref$hideMonthLabels=_ref.hideMonthLabels,hideMonthLabels=void 0!==_ref$hideMonthLabels&&_ref$hideMonthLabels,_ref$hideTotalCount=_ref.hideTotalCount,hideTotalCount=void 0!==_ref$hideTotalCount&&_ref$hideTotalCount,loading=_ref.loading,_ref$showWeekdayLabel=_ref.showWeekdayLabels,showWeekdayLabels=void 0!==_ref$showWeekdayLabel&&_ref$showWeekdayLabel,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$theme=_ref.theme,theme=void 0===_ref$theme?void 0:_ref$theme,_ref$weekStart=_ref.weekStart,weekStart=void 0===_ref$weekStart?0:_ref$weekStart;if(0===data.length)return Object(jsx_runtime.jsx)("article",{className:NAMESPACE,style:style,children:"No data"});var weeks=function groupByWeeks(days){var weekStart=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===days.length)return[];var firstDate=Object(parseISO.a)(days[0].date),firstCalendarDate=Object(getDay.a)(firstDate)===weekStart?firstDate:Object(subWeeks.a)(Object(nextDay.a)(firstDate,weekStart),1),paddedDays=[].concat(_toConsumableArray(Array(Object(differenceInCalendarDays.a)(firstDate,firstCalendarDate)).fill(void 0)),_toConsumableArray(days));return Array(Math.ceil(paddedDays.length/7)).fill(void 0).map((function(_,calendarWeek){return paddedDays.slice(7*calendarWeek,7*calendarWeek+7)}))}(data,weekStart),totalCount=data.reduce((function(sum,day){return sum+day.count}),0),year=Object(getYear.a)(Object(parseISO.a)(null===(_data$=data[0])||void 0===_data$?void 0:_data$.date)),textHeight=hideMonthLabels?0:fontSize+2*blockMargin,_getDimensions=function getDimensions(){return{width:weeks.length*(blockSize+blockMargin)-blockMargin,height:textHeight+7*(blockSize+blockMargin)-blockMargin}}(),width=_getDimensions.width,height=_getDimensions.height;function getTheme(){return theme?Object.assign({},DEFAULT_THEME,theme):color?function createCalendarTheme(baseColor){var emptyColor=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tinycolor_default()("white").darken(8).toHslString(),base=tinycolor_default()(baseColor);return base.isValid()?{level4:base.setAlpha(.92).toHslString(),level3:base.setAlpha(.76).toHslString(),level2:base.setAlpha(.6).toHslString(),level1:base.setAlpha(.44).toHslString(),level0:emptyColor}:DEFAULT_THEME}(color):DEFAULT_THEME}return loading?Object(jsx_runtime.jsx)(component_Skeleton,{width:width,height:height}):Object(jsx_runtime.jsxs)("article",{className:NAMESPACE,style:Object.assign({},style,{maxWidth:"100%",width:width}),children:[Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:`0 0 ${width} ${height}`,className:getClassName("calendar",styles_default.a.calendar),children:[function renderLabels(){var style={fontSize:fontSize};return!showWeekdayLabels&&hideMonthLabels?null:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[showWeekdayLabels&&Object(jsx_runtime.jsx)("g",{className:getClassName("legend-weekday"),style:style,children:weeks[1].map((function(day,y){return day&&y%2!=0?Object(jsx_runtime.jsx)("text",{x:-2*blockMargin,y:textHeight+(fontSize/2+blockMargin)+(blockSize+blockMargin)*y,textAnchor:"end",children:Object(format.a)(Object(parseISO.a)(day.date),"EEEEEE")},day.date):null}))}),!hideMonthLabels&&Object(jsx_runtime.jsx)("g",{className:getClassName("legend-month"),style:style,children:getMonthLabels(weeks).map((function(_ref2,index,labels){var text=_ref2.text,x=_ref2.x;return 0===index&&labels[1].x-x<=2?null:Object(jsx_runtime.jsx)("text",{x:(blockSize+blockMargin)*x,alignmentBaseline:"hanging",children:text},x)}))})]})}(),function renderBlocks(){var theme=getTheme();return weeks.map((function(week){return week.map((function(day,y){return day?Object(jsx_runtime.jsx)("rect",{x:0,y:textHeight+(blockSize+blockMargin)*y,width:blockSize,height:blockSize,fill:theme["level"+day.level],rx:blockRadius,ry:blockRadius,className:styles_default.a.block,"data-date":day.date,"data-tip":children?(contribution=day,date=Object(parseISO.a)(contribution.date),`<strong>${contribution.count} contributions</strong> on ${Object(format.a)(date,dateFormat)}`):void 0},day.date):null;var contribution,date}))})).map((function(week,x){return Object(jsx_runtime.jsx)("g",{transform:`translate(${(blockSize+blockMargin)*x}, 0)`,children:week},x)}))}()]}),function renderFooter(){var theme=getTheme();return hideTotalCount&&hideColorLegend?null:Object(jsx_runtime.jsxs)("footer",{className:getClassName("footer",styles_default.a.footer),style:{marginTop:blockMargin,fontSize:fontSize},children:[!hideTotalCount&&Object(jsx_runtime.jsxs)("div",{className:getClassName("count"),children:[totalCount," contributions in ",year]}),!hideColorLegend&&Object(jsx_runtime.jsxs)("div",{className:getClassName("legend-colors"),style:{marginLeft:"auto"},children:[Object(jsx_runtime.jsx)("span",{style:{marginRight:"0.5em"},children:"Less"}),Array(5).fill(void 0).map((function(_,index){return Object(jsx_runtime.jsx)("svg",{width:blockSize,height:blockSize,style:{margin:"0 0.1em"},children:Object(jsx_runtime.jsx)("rect",{width:blockSize,height:blockSize,fill:theme["level"+index],rx:blockRadius,ry:blockRadius})},index)})),Object(jsx_runtime.jsx)("span",{style:{marginLeft:"0.5em"},children:"More"})]})]})}(),children]})};ActivityCalendar.displayName="ActivityCalendar",ActivityCalendar.__docgenInfo={description:"",methods:[],displayName:"ActivityCalendar",props:{blockMargin:{defaultValue:{value:"4",computed:!1},required:!1,tsType:{name:"number"},description:"Block margin in pixel."},blockRadius:{defaultValue:{value:"2",computed:!1},required:!1,tsType:{name:"number"},description:"Block radius in pixel."},blockSize:{defaultValue:{value:"12",computed:!1},required:!1,tsType:{name:"number"},description:"Block size in pixel."},color:{defaultValue:{value:"undefined",computed:!0},required:!1,tsType:{name:"ColorInput"},description:"Base color to compute graph intensity hues. Any valid CSS color is possible."},dateFormat:{defaultValue:{value:"'MMM do, yyyy'",computed:!1},required:!1,tsType:{name:"string"},description:"A date-fns/format compatible date string used in tooltip messages."},fontSize:{defaultValue:{value:"14",computed:!1},required:!1,tsType:{name:"number"},description:"Font size for text in pixels."},hideColorLegend:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Toggle to hide color legend."},hideMonthLabels:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Toggle to hide month labels."},hideTotalCount:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Toggle to hide total count."},showWeekdayLabels:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Toggle to show day labels."},style:{defaultValue:{value:"{}",computed:!1},required:!1,tsType:{name:"CSSProperties"},description:"Style object to pass to component container."},theme:{defaultValue:{value:"undefined",computed:!0},required:!1,tsType:{name:"Theme"},description:"An object specifying all theme colors explicitly."},weekStart:{defaultValue:{value:"0",computed:!1},required:!1,tsType:{name:"WeekDay"},description:"Index of day to be used as start of week. 0 represents Sunday."},data:{required:!0,tsType:{name:"Array",elements:[{name:"Day"}],raw:"Array<Day>"},description:"List of calendar entries."},children:{required:!1,tsType:{name:"ReactNode"},description:"Pass `<ReactTooltip html />` as child to show tooltips."},loading:{required:!1,tsType:{name:"boolean"},description:"Show loading state (skeleton)."}}};var component_ActivityCalendar=ActivityCalendar;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/ActivityCalendar.tsx"]={name:"ActivityCalendar",docgenInfo:ActivityCalendar.__docgenInfo,path:"src/component/ActivityCalendar.tsx"});__webpack_exports__.default={title:"Activity Calendar",component:component_ActivityCalendar,parameters:{controls:{sort:"requiredFirst"},layout:"centered"},argTypes:{data:{control:!1},blockMargin:{control:{type:"range",min:0,max:20}},blockRadius:{control:{type:"range",min:0,max:20}},blockSize:{control:{type:"range",min:4,max:100,step:2}},children:{control:!1},color:{control:"color"},fontSize:{control:{type:"range",min:6,max:32,step:2}},weekStart:{options:[0,1,2,3,4,5,6],control:{type:"select",labels:{0:"Sunday (0)",1:"Monday (1)",2:"Tuesday (2)",3:"Wednesday (3)",4:"Thursday (4)",5:"Friday (5)",6:"Saturday (6)"}}}}};var Template=function(args){return Object(jsx_runtime.jsx)(component_ActivityCalendar,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={data:generateData()};var CustomColor=Template.bind({});CustomColor.args={data:generateData(),color:"#0f6499"};var WithMondayAsWeekStart=Template.bind({});WithMondayAsWeekStart.args={data:generateData(),weekStart:1};var WithTooltips=Template.bind({});WithTooltips.args={data:generateData(),children:Object(jsx_runtime.jsx)(index_es.a,{html:!0})};var WithoutLabels=Template.bind({});WithoutLabels.args={data:generateData(),hideMonthLabels:!0,hideColorLegend:!0,hideTotalCount:!0};var WithDayLabels=Template.bind({});function generateData(){return Object(eachDayOfInterval.a)({start:new Date(2020,0,1),end:new Date(2020,11,31)}).map((function(date){var count=Math.max(0,Math.round(50*Math.random()-25*Math.random())),level=Math.floor(count/10);return level>3&&console.log({date:Object(formatISO.a)(date,{representation:"date"}),level:level,count:count}),{date:Object(formatISO.a)(date,{representation:"date"}),level:level,count:count}}))}WithDayLabels.args={data:generateData(),showWeekdayLabels:!0,style:{marginLeft:"1rem"}},Default.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},Default.parameters),CustomColor.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},CustomColor.parameters),WithMondayAsWeekStart.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},WithMondayAsWeekStart.parameters),WithTooltips.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},WithTooltips.parameters),WithoutLabels.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},WithoutLabels.parameters),WithDayLabels.parameters=Object.assign({storySource:{source:"args => <ActivityCalendar {...args} />"}},WithDayLabels.parameters)}},[[481,2,3]]]);